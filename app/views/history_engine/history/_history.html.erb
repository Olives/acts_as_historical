<tr>
  <td><%= time_ago_in_words history.created_at %> ago</td>
  <td>
    <% if @by == "model" %>
      <%= history.display_label(:editor) %>
    <% else %>
      <%= history.display_label(:model) %>
    <% end %>
  </td>
  <td>
    <% if history.history_dependable %>
      <div><%= history.display_label(:dependent) %></div>
    <% end %>
    <dl>
    <% history.changed_fields.each do |field, changes| %>
      <dt class="indent"><%= t(field)%> </dt>
      <% if changes %>
        <dd>
          <% if changes[:old] %>
            <div><%= t "history_engine.old_value", :value => changes[:old] %></div>
          <% end %>
          <div>
            <% if !changes[:new].nil? %>
              <%= t "history_engine.new_value", :value => changes[:new] %>
            <% else %>
              <%= t "history_engine.removed_value" %>
            <% end %>
          </div>
        </dd>
      <% end %>
    <% end %>
    </dl>
  </td>
</tr>
